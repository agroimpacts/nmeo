<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Cloud-based Processing</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.19/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/lucy.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/middlebury-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="themes/class6-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Cloud-based Processing
]
.subtitle[
## New Methods in Earth Observation
]
.date[
### Class 2
]

---



# Cloud-based Processing

## Objectives
### Understand: 
&amp;nbsp;&amp;nbsp; - What has enabled it?

&amp;nbsp;&amp;nbsp; - What is its value?

&amp;nbsp;&amp;nbsp; - What are the limitations?

### Know how to:
&amp;nbsp;&amp;nbsp; - Access Google Earth Engine and AWS virtual machines

&amp;nbsp;&amp;nbsp; - Perform some processing on each

&amp;nbsp;&amp;nbsp; - Ingest and do some basic analyses of our datasets
---

## What Has Enabled Cloud-Based Processing?

#### 1. Large-scale processing + Internet
#### 2. Open image archives
#### 3. Software Advances

---
### Large-scale processing + Internet

![](https://www.techspot.com/images2/news/bigimage/2017/04/2017-04-10-image-16-j.webp)

---
### Large-scale processing + Internet
![](https://www.turnkeylinux.org/files/images/blog/aws-datacenters.jpg)

---
### [Open Image Archives](https://registry.opendata.aws)


&lt;img src="figures/02/de_africa.png" width="100%" style="display: block; margin: auto;" /&gt;

---

### Software Advances

Libraries and algorithms that can process these images at scale, e.g.

&amp;nbsp;&amp;nbsp; - Hadoop

&amp;nbsp;&amp;nbsp; - GeoSpark

&amp;nbsp;&amp;nbsp; - TerraLib

---

&lt;img src="figures/06/hadoop1.png" width="80%" style="display: block; margin: auto;" /&gt;

---

&lt;img src="https://media.geeksforgeeks.org/wp-content/uploads/20200621102239/Hadoop-componants.png" width="80%" style="display: block; margin: auto;" /&gt;

---
&lt;img src="https://media.geeksforgeeks.org/wp-content/uploads/20200621105657/mapreduce-workflow.png" width="80%" style="display: block; margin: auto;" /&gt;

---
&lt;img src="https://media.geeksforgeeks.org/wp-content/uploads/20200621121959/3164-1.png
" width="80%" style="display: block; margin: auto;" /&gt;


&lt;!-- ![](https://kapost-files-prod.s3.amazonaws.com/uploads/direct/1461686104-174-6263/SystemIllustration.jpg) --&gt;

---

&lt;img src="figures/06/geospark.png" width="50%" style="display: block; margin: auto;" /&gt;

&lt;!-- .center[![](figures/06/geospark.png)] --&gt;
.center[[Yu et al, 2015](http://dl.acm.org/citation.cfm?doid=2820783.2820860)]

---

### Image hosting 

&gt; A Cloud Optimized GeoTIFF (COG) is a regular GeoTIFF file, aimed at being hosted on a HTTP file server, with an internal organization that enables more efficient workflows on the cloud. It does this by leveraging the ability of clients issuing HTTP GET range requests to ask for just the parts of a file they need.

[COG Maps](https://cholmes.github.io/cog-map/)

---
### Vectors

- [GeoParquet](https://geoparquet.org/)
  - [More on Geoparquet](https://forrest.nyc/geoparquet-will-be-the-most-important-tool-in-modern-gis-in-2022/)
  
- [Vector tiles](https://docs.mapbox.com/data/tilesets/guides/vector-tiles-introduction/)

- [PMTiles](https://protomaps.com/blog/dynamic-maps-static-storage#pmtiles:-pyramids-of-map-tiles)

---

![parquet](https://i.stack.imgur.com/dezln.png)
---
## Bringing These All Together

.center[![](figures/06/ee_architecture.png)]
.center[Gorelick et al, 2017]

---
## Value and Capabilities

&amp;nbsp;&amp;nbsp; - Opened new scales to analysis

&amp;nbsp;&amp;nbsp; - Much Greater Accessibility


---

### New Scales

[Global Surface Water](https://global-surface-water.appspot.com)

[Global Forest Watch](https://www.globalforestwatch.org/)

---

### Greater Accessibility

[Remap](https://remap-app.org)

[Sepal](https://docs.sepal.io/en/latest/)

[Digital Earth Africa](https://www.digitalearthafrica.org/)

[Sentinel-Hub](https://www.sentinel-hub.com/)

---

## Limitations

&amp;nbsp;&amp;nbsp; - Less control?

&amp;nbsp;&amp;nbsp; - More opacity?








    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
